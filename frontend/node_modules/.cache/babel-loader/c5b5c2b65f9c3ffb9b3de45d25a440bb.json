{"ast":null,"code":"var _jsxFileName = \"/Users/ruichunchen/splitwise-app/frontend/src/pages/userauth/Signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { Application } from '../../components/export';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { DB } from '../../constants/DB';\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Signin() {\n  _s();\n\n  const [display, setDisplay] = useState(\"none\");\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const Login_URL = `${DB}/signin`;\n  const history = useHistory();\n\n  function toggleDisplay() {\n    if (display === \"none\") setDisplay(\"display\");else setDisplay(\"none\");\n  }\n\n  async function handleSignin(event) {\n    event.preventDefault();\n\n    if (!email) {\n      return;\n    }\n\n    if (!password) {\n      return;\n    }\n\n    console.log(email, password);\n\n    try {\n      let res = await fetch(Login_URL, {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        if (result) {\n          console.log(\"result: \", result);\n          localStorage.setItem('authUser', result.username);\n          console.log(localStorage.getItem('authUser'));\n          history.push('/home');\n        }\n\n        console.log(\"login success\");\n      } else if (result && result.success === false) {\n        alert(result.msg);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: toggleDisplay,\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Application.Base, {\n      display: display,\n      children: [/*#__PURE__*/_jsxDEV(Application.Close, {\n        toggleDisplay: toggleDisplay,\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTimes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSignin,\n        method: \"POST\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGridEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Email 123@gmail.com\",\n            value: email,\n            onChange: ({\n              target\n            }) => setEmail(target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: \"text-muted\",\n          children: \"We'll never share your info with anyone else.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            onChange: ({\n              target\n            }) => setPassword(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: \"text-muted\",\n          children: [\"Haven't have account?\", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"link\",\n            children: \"Sign me in!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Signin, \"YQmfCjFAmx7N841skYe9YFyhX3w=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["/Users/ruichunchen/splitwise-app/frontend/src/pages/userauth/Signin.js"],"names":["React","useState","Button","Form","Application","FontAwesomeIcon","faTimes","DB","jwt_decode","useHistory","Signin","display","setDisplay","email","setEmail","password","setPassword","Login_URL","history","toggleDisplay","handleSignin","event","preventDefault","console","log","res","fetch","method","headers","body","JSON","stringify","result","json","success","localStorage","setItem","username","getItem","push","alert","msg","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Button, Form } from 'react-bootstrap';\nimport { Application } from '../../components/export';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes} from '@fortawesome/free-solid-svg-icons'\nimport {DB} from '../../constants/DB'\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory} from 'react-router-dom';\n\nfunction Signin() {\n    const [display,setDisplay] = useState(\"none\")\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const Login_URL = `${DB}/signin`\n    const history = useHistory();\n\n    function toggleDisplay(){\n        if(display === \"none\")\n            setDisplay(\"display\")\n        else\n            setDisplay(\"none\")\n    }\n\n    async function handleSignin(event){\n        event.preventDefault();\n        if(!email){\n            return;\n        }\n        if(!password){\n            return;\n        }\n        console.log(email, password);\n        try{\n            let res = await fetch(Login_URL, {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email: email,\n                    password: password\n                })\n            });\n            let result = await res.json();\n            \n            if(result && result.success){\n                if(result){\n                    console.log(\"result: \", result);\n                    localStorage.setItem('authUser', result.username);\n                    console.log(localStorage.getItem('authUser'));\n                    history.push('/home');\n                }\n                console.log(\"login success\");\n            }else if(result && result.success === false){\n                alert(result.msg);\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n\n    \n    return (    \n        <>\n        <Button variant=\"primary\" onClick={toggleDisplay}>Sign In</Button>\n        <Application.Base display = {display}>\n            <Application.Close toggleDisplay={toggleDisplay}><FontAwesomeIcon icon={faTimes} /></Application.Close>\n            <Form onSubmit={handleSignin} method=\"POST\">\n                <Form.Group controlId=\"formGridEmail\">\n                    <Form.Label>Email: </Form.Label>\n                    <Form.Control type=\"email\" placeholder=\"Email 123@gmail.com\" value={email} onChange={({ target }) => setEmail(target.value)} required/>\n                </Form.Group>\n                <Form.Text className=\"text-muted\">\n                We'll never share your info with anyone else.\n                </Form.Text>\n\n                <Form.Group controlId=\"password\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control type=\"password\" placeholder=\"Password\" onChange={({ target }) => setPassword(target.value)}/>\n                </Form.Group>\n                <Form.Text className=\"text-muted\">Haven't have account? \n                    <Button variant=\"link\">\n                            Sign me in!\n                    </Button>\n                </Form.Text>\n                <Button variant=\"primary\" type=\"submit\">\n                    Submit\n                </Button>\n            </Form>\n        </Application.Base>  \n        </>\n    )\n}\n\nexport default Signin"]},"metadata":{},"sourceType":"module"}