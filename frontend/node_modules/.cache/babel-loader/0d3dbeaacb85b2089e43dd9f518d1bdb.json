{"ast":null,"code":"import { DB } from '../constants/DB';\nimport axios from 'axios';\nimport { SET_CURRENT_USER } from '../constants/constant';\nimport setAuthorizationToken from '../utils/setAuthorizationToken';\nexport const setCurrentUser = user => {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n};\nexport const login = userData => {\n  return dispatch => {\n    return axios.post(`${DB}/signin`, userData).then(res => {\n      const token = res.data.token;\n      localStorage.setItem('jwtToken', token);\n      setAuthorizationToken(token);\n      localStorage.setItem('authUser', res.data.username);\n      localStorage.setItem('authEmail', res.data.email);\n      localStorage.setItem('authID', res.data.ID);\n      dispatch(setCurrentUser(res.data));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/ruichunchen/splitwise-app/frontend/src/actions/loginActions.js"],"names":["DB","axios","SET_CURRENT_USER","setAuthorizationToken","setCurrentUser","user","type","login","userData","dispatch","post","then","res","token","data","localStorage","setItem","username","email","ID"],"mappings":"AAAA,SAAQA,EAAR,QAAiB,iBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,gBAAR,QAA+B,uBAA/B;AACA,OAAOC,qBAAP,MAAkC,gCAAlC;AACA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAU;AACpC,SAAM;AACFC,IAAAA,IAAI,EAAEJ,gBADJ;AAEFG,IAAAA;AAFE,GAAN;AAIH,CALM;AAOP,OAAO,MAAME,KAAK,GAAIC,QAAD,IAAa;AAC9B,SAAOC,QAAQ,IAAI;AACf,WAAOR,KAAK,CAACS,IAAN,CAAY,GAAEV,EAAG,SAAjB,EAA2BQ,QAA3B,EAAqCG,IAArC,CACHC,GAAG,IAAE;AACD,YAAMC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASD,KAAvB;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,KAAjC;AACAV,MAAAA,qBAAqB,CAACU,KAAD,CAArB;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,GAAG,CAACE,IAAJ,CAASG,QAA1C;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCJ,GAAG,CAACE,IAAJ,CAASI,KAA3C;AACAH,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BJ,GAAG,CAACE,IAAJ,CAASK,EAAxC;AACAV,MAAAA,QAAQ,CAACL,cAAc,CAACQ,GAAG,CAACE,IAAL,CAAf,CAAR;AACP,KATM,CAAP;AAUH,GAXD;AAYH,CAbM","sourcesContent":["import {DB} from '../constants/DB'\nimport axios from 'axios'\nimport {SET_CURRENT_USER} from '../constants/constant'\nimport setAuthorizationToken from '../utils/setAuthorizationToken'\nexport const setCurrentUser = (user) => {\n    return{\n        type: SET_CURRENT_USER,\n        user\n    }\n}\n\nexport const login = (userData) =>{\n    return dispatch => {\n        return axios.post(`${DB}/signin`, userData).then(\n            res=>{\n                const token = res.data.token;\n                localStorage.setItem('jwtToken', token)\n                setAuthorizationToken(token)\n                localStorage.setItem('authUser', res.data.username);\n                localStorage.setItem('authEmail', res.data.email);\n                localStorage.setItem('authID', res.data.ID);\n                dispatch(setCurrentUser(res.data))\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}