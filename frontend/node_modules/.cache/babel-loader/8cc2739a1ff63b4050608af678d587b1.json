{"ast":null,"code":"var _jsxFileName = \"/Users/ruichunchen/splitwise-app/frontend/src/components/CreateInput.js\";\nimport { Row, Image, Form, Col } from 'react-bootstrap';\nimport logo from '../images/signup.png';\nimport { DB } from '../constants/DB';\nimport axios from 'axios'; // import {UserContext} from '../contexts/userContext'\n//     const {user} = useContext(UserContext)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst React = require('react');\n\nclass CreateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      email: '',\n      users: ''\n    };\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n\n  async componentDidMount() {\n    let Search_URL = `${DB}/searchUser`;\n    const res = await axios.get(Search_URL); // const result = await res.data.json()\n\n    console.log(\"res dataset\", res.data.dataset); // console.log(\"res data\",res.data);\n    // console.log(\"res dataset\",res.data.dataset);\n\n    this.setState({\n      users: res.data.dataset\n    }); // let Search_URL = `${DB}/searchUser`\n    // const res = await fetch(Search_URL)\n    // // const result = await res.json()\n    // this.setState({\n    //     users: res.data.dataset\n    // })\n\n    console.log(\"users\", this.state.users); // console.log(\"res status\",res.status);\n    // console.log(\"res dataset\",res.dataset);\n  }\n\n  handleSearch(event) {\n    event.preventDefault();\n    let target = event.target; // console.log(\"target\",target.name, target.value);\n\n    if (this.state.users) {\n      console.log(\"users\", this.state.users);\n    } else {\n      console.log(\"no user\");\n    }\n\n    if (target.name === \"username\") {\n      this.setState({\n        username: target.value\n      });\n    }\n\n    if (target.name === \"email\") {\n      this.setState({\n        email: target.value\n      });\n    }\n  }\n\n  render() {\n    let user = '';\n    let pic = logo;\n    let name = '';\n\n    let form = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: 4,\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter username\",\n          onChange: this.handleSearch,\n          value: this.state.username,\n          name: \"username\",\n          \"data-testid\": \"name-input-box\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 5,\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Enter email\",\n          onChange: this.handleSearch,\n          value: this.state.email,\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n\n    if (this.state.users) {\n      let currentName = localStorage.getItem('authUser');\n      let currentEmail = localStorage.getItem('authEmail');\n      user = this.state.users.filter(u => (u.username === this.state.username || u.email === this.state.email) && currentName !== u.username && currentEmail !== u.email);\n    }\n\n    if (user[0]) {\n      console.log(\"user[0]\", user[0]);\n      let currentName = user[0].username;\n      let currentEmail = user[0].email;\n      pic = user[0].picture;\n      name = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"300px\"\n        },\n        \"data-testid\": \"name-output-box\",\n        children: [\"Added \", currentName, \"(\", currentEmail, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }, this);\n      form = /*#__PURE__*/_jsxDEV(Col, {\n        md: \"8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 20\n      }, this);\n      this.props.createItem({\n        ID: user[0].ID,\n        username: user[0].username\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 1,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: pic,\n            roundedCircle: true,\n            style: {\n              width: \"30px\",\n              height: \"30px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this), name, form]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default CreateInput;","map":{"version":3,"sources":["/Users/ruichunchen/splitwise-app/frontend/src/components/CreateInput.js"],"names":["Row","Image","Form","Col","logo","DB","axios","React","require","CreateInput","Component","constructor","props","state","username","email","users","handleSearch","bind","componentDidMount","Search_URL","res","get","console","log","data","dataset","setState","event","preventDefault","target","name","value","render","user","pic","form","currentName","localStorage","getItem","currentEmail","filter","u","picture","width","createItem","ID","height"],"mappings":"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","sourcesContent":["import { Row, Image, Form, Col } from 'react-bootstrap';\nimport logo from '../images/signup.png'\nimport {DB} from '../constants/DB'\nimport axios from 'axios';\n// import {UserContext} from '../contexts/userContext'\n//     const {user} = useContext(UserContext)\nconst React = require('react')\n\nclass CreateInput extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            username: '',\n            email: '',\n            users: ''\n        }\n        this.handleSearch = this.handleSearch.bind(this)\n    }\n\n    async componentDidMount(){\n        let Search_URL = `${DB}/searchUser`\n        const res = await axios.get(Search_URL)\n        // const result = await res.data.json()\n        console.log(\"res dataset\",res.data.dataset);\n        // console.log(\"res data\",res.data);\n        // console.log(\"res dataset\",res.data.dataset);\n\n        this.setState({\n            users: res.data.dataset\n        })\n        // let Search_URL = `${DB}/searchUser`\n        // const res = await fetch(Search_URL)\n        // // const result = await res.json()\n        // this.setState({\n        //     users: res.data.dataset\n        // })\n        console.log(\"users\",this.state.users);\n        // console.log(\"res status\",res.status);\n        // console.log(\"res dataset\",res.dataset);\n    }\n    \n    handleSearch(event){\n        event.preventDefault();\n        let target = event.target;\n        // console.log(\"target\",target.name, target.value);\n        if(this.state.users){\n            console.log(\"users\", this.state.users);\n        }else{\n            console.log(\"no user\");\n        }\n        if(target.name === \"username\"){\n            this.setState(\n                {username: target.value}\n            )\n        }\n        if(target.name === \"email\"){\n            this.setState(\n                {email: target.value}\n            )\n        }\n    }\n\n    render(){\n        let user = '';\n        let pic = logo\n        let name = '';\n        let form = <>\n                <Col sm={4}>\n                    <Form.Control type=\"text\" placeholder=\"Enter username\" onChange={this.handleSearch} value={this.state.username} name=\"username\" data-testid=\"name-input-box\"/>\n                    {/* {displayUser} */}\n                </Col>\n                <Col sm={5}>\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={this.handleSearch} value={this.state.email} name=\"email\"/>\n                </Col>\n                </>\n        if(this.state.users){\n            let currentName = localStorage.getItem('authUser')\n            let currentEmail = localStorage.getItem('authEmail')\n            user = this.state.users.filter(u => (u.username === this.state.username || u.email === this.state.email) && currentName !== u.username && currentEmail !== u.email)\n        }\n        if(user[0]){\n            console.log(\"user[0]\", user[0]);\n            let currentName = user[0].username\n            let currentEmail = user[0].email\n            pic = user[0].picture\n            name = <div style={{width: \"300px\"}} data-testid=\"name-output-box\">Added {currentName}({currentEmail})</div>\n            form = <Col md=\"8\"></Col>\n            this.props.createItem({\n                ID: user[0].ID,\n                username: user[0].username\n            });\n        }\n        return (\n        <>\n            <Row>\n                <Col sm={1}>\n                    <Image src={pic} roundedCircle style={{width: \"30px\", height: \"30px\"}}/>\n                </Col>\n                {name}\n                \n                {form}\n            </Row>\n        </>\n    );\n  }\n}\n\nexport default CreateInput"]},"metadata":{},"sourceType":"module"}