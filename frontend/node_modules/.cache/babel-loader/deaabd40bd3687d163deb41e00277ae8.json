{"ast":null,"code":"var _jsxFileName = \"/Users/ruichunchen/splitwise-app/frontend/src/pages/Dashboard/dashNav.js\";\nimport { Modal, Button, Form, InputGroup, FormControl, Row } from 'react-bootstrap';\nimport { faFlag, faList, faTag, faUser } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nimport logo from '../../images/signup.png';\nimport Create from '../Create';\nimport { DB } from '../../constants/DB';\nimport { Application } from '../../components/export';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst React = require('react');\n\nclass DashNav extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.search = async newItem => {\n      let searchGroup = [];\n      searchGroup = this.state.allGroups.filter(g => g.name === newItem.value);\n      console.log(\"searchGroup\", searchGroup);\n      if (searchGroup.length > 0) this.setState({\n        groups: searchGroup,\n        found: 'found'\n      });\n\n      if (newItem.value === \"\") {\n        this.setState({\n          groups: this.state.allGroups,\n          found: 'found'\n        });\n        console.log(\"here\");\n      }\n\n      console.log(\"this.state.groups\", this.state.groups);\n    };\n\n    this.state = {\n      groups: '',\n      currentGroup: '',\n      show: false,\n      item: '',\n      found: '',\n      allGroups: ''\n    };\n    this.getGroup = this.getGroup.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleAccept = this.handleAccept.bind(this);\n    this.handlReject = this.handlReject.bind(this);\n    this.search = this.search.bind(this);\n    this.recent = this.recent.bind(this);\n  }\n\n  componentDidMount() {\n    let group_URL = `${DB}/getGroup`; // const expense = '/expense'\n\n    fetch(group_URL, {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: localStorage.getItem('authID')\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(\"result.dataset: \", result.dataset);\n      this.setState({\n        allGroups: result.dataset,\n        groups: result.dataset\n      });\n    });\n  }\n\n  getGroup(event) {\n    let text = event.target.innerText;\n    let currentGroup = this.state.allGroups.filter(g => g.name === text);\n    this.props.createItem({\n      ID: currentGroup[0].id,\n      allGroup: this.state.allGroups,\n      name: currentGroup[0].name,\n      recent: ''\n    });\n    console.log(\"inside getGroup\", currentGroup[0].id);\n  }\n\n  handleAccept(e) {\n    console.log(e.target.id);\n    console.log(\"accpet this invitation\");\n    let accept_URL = `${DB}/accpet`;\n    fetch(accept_URL, {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: e.target.id,\n        user: parseInt(localStorage.getItem('authID'))\n      })\n    }).then(res => res.json()).then(result => {\n      // console.log(\"result.dataset: \", result.dataset);\n      if (result.success) {\n        alert(\"Accept invitation from \", e.target.id);\n        window.location.reload(false);\n      }\n    });\n    this.setState({\n      show: false\n    });\n  }\n\n  handlReject(e) {\n    console.log(e.target.id);\n    console.log(\"reject this invitation\");\n    let accept_URL = `${DB}/reject`;\n    fetch(accept_URL, {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: e.target.id,\n        member: parseInt(localStorage.getItem('authID'))\n      })\n    }).then(res => res.json()).then(result => {\n      // console.log(\"result.dataset: \", result.dataset);\n      if (result.success) {\n        alert(\"Reject invitation from \", e.target.id);\n        window.location.reload(false);\n      }\n    });\n    this.setState({\n      show: false\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  recent() {\n    this.props.createItem({\n      recent: \"recent\",\n      id: ''\n    });\n  }\n\n  render() {\n    let displayGroup = this.state.groups ? this.state.groups.map((item, index) => item.invitation === 1 ? /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"list-group-item\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"link\",\n        style: {\n          padding: \"0px\"\n        },\n        onClick: this.getGroup,\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 81\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 113\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this) : null) : null;\n    let invitation = [];\n    let itemList = [];\n    let count = 0;\n    invitation = this.state.groups ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Invitation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          style: {\n            height: \"300px\"\n          },\n          children: [this.state.groups.forEach((item, index) => {\n            if (item.invitation !== 1 && parseInt(item.rejection) === 0) {\n              this.state.show = true;\n              itemList.push( /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [\"Having a invitation from \\\"\", item.name, \"\\\"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    id: item.name,\n                    onClick: this.handleAccept,\n                    children: \"accpet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    className: \"ml-3\",\n                    id: item.name,\n                    onClick: this.handlReject,\n                    children: \"reject\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true));\n            } else {\n              count += 1;\n            }\n          }), count === this.state.groups.length ? /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"There are no new invitation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 55\n          }, this) : null, itemList]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false) : null;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group list-group-flush\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              style: {\n                width: \"30px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 86\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: \"green\"\n              },\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 127\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 65\n          }, this)\n        }, Math.random(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"link\",\n            onClick: this.recent,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faFlag\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 110\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \" Recent activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 143\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 65\n          }, this)\n        }, Math.random(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Create, {\n          search: this.search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), displayGroup && displayGroup.length > 0 ? displayGroup : this.state.found, invitation]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default DashNav;","map":{"version":3,"sources":["/Users/ruichunchen/splitwise-app/frontend/src/pages/Dashboard/dashNav.js"],"names":["Modal","Button","Form","InputGroup","FormControl","Row","faFlag","faList","faTag","faUser","FontAwesomeIcon","axios","logo","Create","DB","Application","React","require","DashNav","Component","constructor","props","search","newItem","searchGroup","state","allGroups","filter","g","name","value","console","log","length","setState","groups","found","currentGroup","show","item","getGroup","bind","handleClose","handleAccept","handlReject","recent","componentDidMount","group_URL","fetch","method","headers","body","JSON","stringify","id","localStorage","getItem","then","res","json","result","dataset","event","text","target","innerText","createItem","ID","allGroup","e","accept_URL","user","parseInt","success","alert","window","location","reload","member","render","displayGroup","map","index","invitation","padding","itemList","count","height","forEach","rejection","push","width","color","Math","random"],"mappings":"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","sourcesContent":["import { Modal, Button, Form, InputGroup, FormControl,Row } from 'react-bootstrap';\nimport { faFlag, faList, faTag, faUser } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport axios from 'axios';\nimport logo from '../../images/signup.png'\nimport Create from '../Create'\nimport {DB} from '../../constants/DB'\nimport {Application} from '../../components/export'\n\nconst React = require('react')\n\nclass DashNav extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            groups: '',\n            currentGroup: '',\n            show: false,\n            item: '',\n            found: '',\n            allGroups: ''\n        }\n        this.getGroup = this.getGroup.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n        this.handleAccept = this.handleAccept.bind(this)\n        this.handlReject = this.handlReject.bind(this)\n        this.search = this.search.bind(this)\n        this.recent = this.recent.bind(this)\n    }\n    \n    componentDidMount(){\n        let group_URL = `${DB}/getGroup`\n        // const expense = '/expense'\n        fetch(group_URL, {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: localStorage.getItem('authID')\n            })\n        }).then(res => res.json()).then(result=>{\n            console.log(\"result.dataset: \", result.dataset);\n            this.setState({\n                allGroups: result.dataset,\n                groups: result.dataset\n            })\n        })\n    }\n    getGroup(event) {\n        let text = event.target.innerText;\n        let currentGroup = this.state.allGroups.filter((g) => g.name === text)\n        this.props.createItem({\n            ID: currentGroup[0].id,\n            allGroup: this.state.allGroups,\n            name: currentGroup[0].name,\n            recent: ''\n        });\n        console.log(\"inside getGroup\", currentGroup[0].id);\n    }   \n\n    handleAccept(e){\n        console.log(e.target.id);\n        console.log(\"accpet this invitation\");\n        let accept_URL = `${DB}/accpet`\n        fetch(accept_URL, {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: e.target.id,\n                user: parseInt(localStorage.getItem('authID'))\n            })\n        }).then(res => res.json()).then(result=>{\n            // console.log(\"result.dataset: \", result.dataset);\n            if(result.success){\n                alert(\"Accept invitation from \", e.target.id)\n                window.location.reload(false);\n            }\n        })\n        this.setState({show: false})\n    }\n\n    handlReject(e){\n        console.log(e.target.id);\n        console.log(\"reject this invitation\");\n        let accept_URL = `${DB}/reject`\n        fetch(accept_URL, {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: e.target.id,\n                member: parseInt(localStorage.getItem('authID'))\n            })\n        }).then(res => res.json()).then(result=>{\n            // console.log(\"result.dataset: \", result.dataset);\n            if(result.success){\n                alert(\"Reject invitation from \", e.target.id)\n                window.location.reload(false);\n            }\n        })\n        this.setState({show: false})\n    }\n\n    handleClose () {\n        this.setState({show:false})\n    }\n\n    search = async(newItem) => {\n        let searchGroup = []\n        searchGroup = this.state.allGroups.filter(g => g.name === newItem.value)\n        console.log(\"searchGroup\", searchGroup);\n        if(searchGroup.length > 0)\n            this.setState({groups: searchGroup, found: 'found'})\n        if(newItem.value===\"\"){\n            this.setState({groups: this.state.allGroups, found: 'found'})\n            console.log(\"here\");\n        }\n        console.log(\"this.state.groups\", this.state.groups);\n    }\n    \n    recent(){\n        this.props.createItem({\n            recent: \"recent\",\n            id: ''\n        });\n    }\n    \n    render(){\n        let displayGroup = this.state.groups ? this.state.groups.map((item, index) => \n        item.invitation === 1 ?\n        <li className=\"list-group-item\" key={index}>\n        <Button variant=\"link\" style={{padding: \"0px\"}} onClick={this.getGroup}><FontAwesomeIcon icon={faTag} /><strong>{item.name}</strong></Button>\n        </li> : null) \n        : \n        null\n        let invitation =[]\n        let itemList = []\n        let count = 0\n        invitation = this.state.groups ? \n            <>\n        <Modal show={this.state.show} onHide={this.handleClose} >\n            <Modal.Header closeButton>\n            <Modal.Title>Invitation</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ height: \"300px\" }}>\n                {\n                this.state.groups.forEach((item, index) => {\n                    if(item.invitation!==1 && parseInt(item.rejection)===0){\n                        this.state.show = true\n                        itemList.push(\n                            <>\n                            <Row key={index}>\n                                <h5>Having a invitation from \"{item.name}\"</h5>\n                                <Button variant=\"success\" id={item.name} onClick={this.handleAccept}>accpet</Button >\n                                <Button variant=\"danger\" className=\"ml-3\" id={item.name} onClick={this.handlReject}>reject</Button >\n                            </Row>\n                            <p></p>\n                            </>\n                        )\n                    }else{\n                        count +=1;\n                    }\n                })\n                }\n                {count === this.state.groups.length ? <h5>There are no new invitation</h5> : null}\n                {itemList}\n            </Modal.Body>\n            <Modal.Footer>\n            </Modal.Footer>\n        </Modal>\n            </> : null;\n\n        return (\n        <>\n        <ul className=\"list-group list-group-flush\">\n            <li className=\"list-group-item\" key={Math.random()}><a href=\"/dashboard\"><img src={logo} style={{width: \"30px\"}}/><strong style={{color: \"green\"}}>Dashboard</strong></a></li>\n            <li className=\"list-group-item\" key={Math.random()}><Button variant=\"link\" onClick={this.recent}><FontAwesomeIcon icon={faFlag} /><strong> Recent activity</strong></Button></li>\n            <Create search={this.search}/>\n            {displayGroup && displayGroup.length > 0 ? displayGroup : this.state.found}\n            {invitation}\n        </ul>\n        </>\n    );\n  }\n}\n\nexport default DashNav"]},"metadata":{},"sourceType":"module"}